!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n(1);var o=n(2);window.addEventListener("DOMContentLoaded",function(){i.init()});var i={startPanel:document.getElementById("startPanel"),endPanel:document.getElementById("endPanel"),form:document.getElementById("form"),questionnaireTitle:document.getElementById("questionnaireTitle"),buttonStart:document.getElementById("buttonStart"),choicesContainer:document.getElementById("choicesContainer"),buttonBack:document.getElementById("buttonBack"),buttonNext:document.getElementById("buttonNext"),buttonFinish:document.getElementById("buttonFinish"),progress:document.getElementById("progress"),progressBar:document.getElementById("progressBar"),init:function(){this.setTitle(),this.questionsArr=[],this.setQuestions(),this.radioItems=document.querySelectorAll("._js-radio"),this.currentQuestion=0,this.lastQuestion=this.questionsArr.length-1,this.radioItems.forEach(function(t){return t.addEventListener("click",function(){var t=document.querySelectorAll("._js-radio:checked").length;i.setProgress(t),t==i.lastQuestion+1&&i.showButtonFinish()})}),this.buttonStart.addEventListener("click",function(){i.hide(i.startPanel),i.show(i.form),i.showQuestion(0)}),this.buttonBack.addEventListener("click",function(t){i.showQuestion(-1),t.preventDefault()}),this.buttonNext.addEventListener("click",function(t){i.showQuestion(1),t.preventDefault()})},setTitle:function(){this.questionnaireTitle.textContent=o.title},setQuestions:function(){var t=document.createDocumentFragment(),e=function(e){if(o.hasOwnProperty(e)&&"title"!=e){var n=document.createElement("div");n.classList.add("form_choicesItem","choicesItem","-hidden");var s=document.createElement("h3");s.classList.add("form_question"),s.textContent=o[e].question,n.appendChild(s),t.appendChild(n),o[e].choices.forEach(function(t,o){var i=document.createElement("div");i.classList.add("choicesItem_box"),n.appendChild(i);var s=e+"-"+o;i.innerHTML='<input type="radio" name="'+e+'" class="choicesItem_radio _js-radio" value="'+t+'" id="'+s+'">',i.innerHTML+='<label for="'+s+'" class="choicesItem_label">'+t+"</label>"}),i.questionsArr.push(n)}};for(var n in o)e(n);this.choicesContainer.appendChild(t)},setProgress:function(t){var e=i.lastQuestion+1,n=t/e*100;this.progress.style.width=n+"%";var o=e-t,s=1==o?o+" question left":o+" questions left";this.progressBar.setAttribute("title",s)},hide:function(t){t.classList.add("-hidden")},show:function(t){t.classList.remove("-hidden")},showQuestion:function(t){this.questionsArr.forEach(function(t){return i.hide(t)}),this.currentQuestion+=t,this.currentQuestion<=0?(this.currentQuestion=0,this.disableButton(this.buttonBack),this.enableButton(this.buttonNext)):this.currentQuestion>=this.lastQuestion?(this.currentQuestion=this.lastQuestion,this.disableButton(this.buttonNext),this.enableButton(this.buttonBack)):(this.enableButton(this.buttonNext),this.enableButton(this.buttonBack));var e=this.questionsArr[this.currentQuestion];this.show(e)},disableButton:function(t){t.classList.add("-disabled")},enableButton:function(t){t.classList.remove("-disabled")},showButtonFinish:function(){this.show(this.buttonFinish),this.buttonFinish.addEventListener("click",function(t){i.hide(i.form),i.show(i.endPanel),t.preventDefault()})}}},function(t,e){},function(t,e){t.exports={title:"Questionnaire about reading.",q1:{question:"How many books did you read last year?",choices:["none","less than 3","from 3 to 5","more than 5"]},q2:{question:"What is your motivation to read books?",choices:["learning","pleasure","both"]},q3:{question:"What do you read most often?",choices:["books","magazines","articles in internet","nothing from above"]},q4:{question:"How fast do you read (words per minute)",choices:["less than 200","from 200 to 400","from 400 to 800","above 800"]}}}]);
//# sourceMappingURL=bundle.js.map